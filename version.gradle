String getVersionNumber() {
    if(project.hasProperty("mod_version")) {
        String base = project.property("mod_version")
        String type = null;
        def ENV = System.getenv()
        String buildNumber = ENV.BUILD_NUMBER ? "${ENV.BUILD_NUMBER}" : "9999"
        if(ENV.GITHUB_RUN_NUMBER) {
            buildNumber = "${ENV.GITHUB_RUN_NUMBER}"
        }
        base += "." + buildNumber
        if(buildNumber == "local") {
            type = "alpha"
        }
        if(project.hasProperty("type")) {
            type = project.property("type")
        }
        if(type == "alpha" || type == "beta") {
            base += "-" + type
        }

        if(project.hasProperty("minecraft_version")) {
            base += "+mc" + project.property("minecraft_version") 
        }

        return base
    }else {
        throw new RuntimeException("There is no version defined pls define one in gradle.properties (EG. 2.1)")
    }

}

ext {
    getVersionNumber = this.&getVersionNumber
}
